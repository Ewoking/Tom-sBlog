{"version":3,"sources":["config.js","utilities/validator.js","components/Aside.js","components/PostOverview.js","utilities/fullScreenPage.js","pages/Home.js","assets/images/thomasAnderson.jpg","pages/About.js","pages/PostDetail.js","actions/user/action-types.js","actions/user/userActions.js","pages/Login.js","pages/Register.js","pages/Logout.js","pages/Search.js","pages/Archives.js","pages/NewPost.js","components/Burger.js","components/Header.js","components/ScrollUp.js","utilities/hocAuth.js","pages/EditPost.js","pages/NoService.js","components/Footer.js","App.js","reportWebVitals.js","reducers/userReducer.js","reducers/index.js","store.js","index.js"],"names":["module","exports","apiUrl","isValidEmail","email","split","length","test","isValidName","name","isValidPassword","password","Aside","className","href","icon","faTwitter","faInstagramSquare","faFacebookSquare","to","src","alt","PostOverview","props","text","dateString","post","title","creationTimestamp","Date","toLocaleDateString","content","JSON","parse","slice","join","fullScreenPage","page","document","querySelector","header","footer","screenHeight","Math","max","documentElement","clientHeight","window","innerHeight","pageHeight","parseFloat","getComputedStyle","height","headerHeight","footerHeight","margin","marginTop","style","minHeight","config","require","axios","connect","store","user","useState","topArticles","setTopArticles","searchInput","setSearchInput","isSearching","setIsSearching","history","useHistory","useEffect","scrollTo","get","then","response","data","posts","catch","err","push","pathname","state","query","onSubmit","e","preventDefault","onHandleSearch","type","placeholder","value","onChange","currentTarget","required","faSearch","map","index","id","About","picture","setPost","comments","setComments","newComment","setNewComment","dateManager","withTime","date","result","getHours","getMinutes","postId","match","params","status","para","infos","role","onClick","faFeatherAlt","confirm","delete","headers","token","onHandleDeletePost","faTimes","comment","firstName","lastName","userId","faUser","commentId","location","reload","onHandleDeleteComment","isLogged","stringify","onHandleSubmit","CONNECT_USER","LOGOUT_USER","connectUser","dispatch","payload","logoutUser","mapDispatchToProps","setEmail","setPassword","redirect","setRedirect","error","setError","OnHandleSubmit","validator","source","message","localStorage","setItem","errorArea","querySelectorAll","forEach","field","classList","remove","errorInput","add","focus","htmlFor","setFirstName","setLastName","removeItem","resultArticles","setResultArticles","commitedSearch","setCommitedSearch","existingQuery","month","setMonth","year","setYear","maxYear","setMaxYear","getMonth","getFullYear","min","step","setTitle","setContent","rows","active","setActive","body","paddingTop","clickCatcher","width","innerWidth","burgerButton","right","marginRight","addEventListener","onHandleClick","removeEventListener","stopPropagation","target","contains","Header","ScrollUp","scroll","setScroll","handleScroll","display","scrollY","top","behavior","faChevronUp","foo","ChildComponent","isAdmin","hocAuth","this","setState","existingToken","getItem","React","Component","mapStateToProps","put","NoService","Footer","process","App","exact","path","component","Home","PostDetail","Search","Archives","Login","Logout","Register","NewPost","EditPost","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","rootReducer","combineReducers","action","composedEnhancer","composeWithDevTools","applyMiddleware","thunk","createStore","reducers","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.79e188eb.chunk.js","sourcesContent":["// URL serveur\r\n//\r\n// A modifier selon le build\r\n\r\nmodule.exports = {\r\n    apiUrl : \"https://toms-blog.herokuapp.com/api/v1\"\r\n    //apiUrl : \"http://localhost:8000/api/v1\"\r\n}\r\n","\r\n// Validateur de formulaire\r\n\r\n// Vérifie si la structure de l'email est valide\r\nconst isValidEmail = function(email) {\r\n        const regex = /\\S+@\\S+\\.\\S+/\r\n        let split = email.split(\"@\");\r\n\r\n        if(split.length !== 2) return false;\r\n        if(split[0].length > 64 || split[1].length > 254) return false;\r\n        \r\n        return regex.test(email);\r\n}\r\n\r\n// Vérifie si la composition du nom est valide :\r\n// longueur : 2 - 20\r\n// pas de chiffre ou caractère spécial (excepté ' et - )\r\nconst isValidName = function(name) {\r\n    if(name.length > 20) return false;\r\n\r\n    let regex = /^[a-zA-ZÀ-ÿ\\-\\']{2,}$/; //eslint-disable-line\r\n    return regex.test(name);\r\n}\r\n\r\n// Vérifie si le mot de passe est valide\r\n// longueur : 8 - 50\r\n// Minimum : 1 Majuscule, 1 minuscule, 1 chiffre, 1 caractère spécial parmi #?!@$ %^&*\r\nconst isValidPassword = function(password) {\r\n    if(password.length > 50) return false;\r\n    if(password.length < 8) return false;\r\n\r\n    let regex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,50}$/;\r\n\r\n    return regex.test(password)\r\n}\r\n\r\nmodule.exports = {\r\n    isValidEmail,\r\n    isValidName,\r\n    isValidPassword\r\n}","import {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faTwitter, faInstagramSquare, faFacebookSquare} from '@fortawesome/free-brands-svg-icons';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n// Composant Aside\r\n//\r\n// Utilisé dans les différentes pages\r\n//\r\n// Affiche le aside du site\r\n\r\nconst Aside = () => {\r\n    return (\r\n        <aside>\r\n            <section className=\"networks-wrapper\">\r\n                <h4>Suivez-moi</h4>\r\n                <ul>\r\n                    <li><a href=\"https://twitter.com/keanuchreevess\"><FontAwesomeIcon icon={faTwitter} className=\"twitter-logo\"/></a></li>\r\n                    <li><a href=\"https://www.instagram.com/keaanuureeves/\"><FontAwesomeIcon icon={faInstagramSquare} className=\"instagram-logo\"/></a></li>\r\n                    <li><a href=\"https://www.facebook.com/keanu.revees.71216\"><FontAwesomeIcon icon={faFacebookSquare} className=\"facebook-logo\"/></a></li>\r\n                </ul>\r\n            </section>\r\n            <section className=\"author-wrapper\">\r\n                <h4>L'Auteur</h4>\r\n                <figure>\r\n                    <Link to=\"/about\">\r\n                        <img src={'/images/thomasAnderson.jpg'} alt=\"Portrait de Thomas Anderson\" />\r\n                        <figcaption>Tom Anderson</figcaption>\r\n                    </Link>\r\n                </figure>\r\n                \r\n            </section>\r\n        </aside>\r\n        \r\n    )\r\n}\r\n\r\nexport default Aside;","\r\n// Composant Post Overview\r\n//\r\n// Utilisé dans plusieurs pages (Home/Search/Archives)\r\n//\r\n// Affiche un aperçu d'article (Titre, date, début du contenu)\r\n\r\nconst PostOverview = (props) => {\r\n\r\n    // Formatte un texte en enlevant les retours à la ligne\r\n    const contentManager = (text) => {\r\n        const maxWords = 30;\r\n        \r\n        text = JSON.parse(text);\r\n        return text.split(/\\s|\\n/).slice(0,maxWords).join(' ') + \" ...\";\r\n    }\r\n\r\n    // Formatte une date (string) au format local\r\n    const dateManager = (dateString) => {\r\n        return 'le ' + new Date(dateString).toLocaleDateString();\r\n    }\r\n\r\n    return(\r\n        <article className=\"post-overview\">\r\n            <h2>{props.post.title}</h2>\r\n            <p>{dateManager(props.post.creationTimestamp)}</p>\r\n            <p>{contentManager(props.post.content)}</p>\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default PostOverview;","\r\n// Vérifie que la page occupe bien tout l'écran\r\n// Resize la page dans le cas contraire\r\n\r\nexport default function fullScreenPage () {\r\n    const page = document.querySelector(\".page\");\r\n    const header = document.querySelector(\".header-wrapper\");\r\n    const footer = document.querySelector(\"footer\");\r\n\r\n    const screenHeight = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n    const pageHeight = parseFloat(getComputedStyle(page).height);\r\n    const headerHeight = parseFloat(getComputedStyle(header).height);\r\n    const footerHeight = parseFloat(getComputedStyle(footer).height);\r\n\r\n    const margin = parseFloat(getComputedStyle(page).marginTop);\r\n    \r\n    if(pageHeight < screenHeight - headerHeight) {\r\n        page.style.minHeight =(screenHeight - headerHeight - footerHeight - 2*margin) + \"px\";\r\n    }\r\n}","import {useState, useEffect} from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Aside from \"../components/Aside\";\r\nimport PostOverview from \"../components/PostOverview\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faSearch} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport fullScreenPage from \"../utilities/fullScreenPage\";\r\n\r\nconst config = require('../config');\r\nconst axios = require(\"axios\");\r\n\r\n// Page Home\r\n//\r\n// Contient les cinq derniers Articles en date & une barre de recherche par mot-clé\r\n\r\nconst Home = (props) => {\r\n    \r\n    const [topArticles, setTopArticles] = useState([]);\r\n    const [searchInput, setSearchInput] = useState(\"\");\r\n    const [isSearching, setIsSearching ] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        fullScreenPage();\r\n        // Requête serveur pour la page \"Home\" (5 derniers articles)\r\n        axios.get(config.apiUrl + \"/home\")\r\n        .then(response => {\r\n            setTopArticles(response.data.posts);\r\n        }).catch(err => {\r\n            history.push(\"/noService\");\r\n        })\r\n    }, [history])\r\n\r\n    // Callback de recherche par mot-clé\r\n    // (redirige vers la page \"Search\")\r\n    const onHandleSearch = (e) => {\r\n        e.preventDefault();\r\n        setIsSearching(true);\r\n    }\r\n\r\n    return(\r\n        <div className=\"page home\">\r\n\r\n            {isSearching &&\r\n            <Redirect to={{\r\n                pathname: '/search',\r\n                state: {query: searchInput}\r\n            }}/>}\r\n\r\n            \r\n\r\n            <div className=\"search-bar-wrapper\">\r\n                <form className=\"search-bar\" onSubmit={(e) => {onHandleSearch(e)}}>\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder=\"Recherchez un article\"\r\n                        value={searchInput}\r\n                        onChange={e => {setSearchInput(e.currentTarget.value)}}\r\n                        required/>\r\n                        <button type=\"submit\">\r\n                            <FontAwesomeIcon icon={faSearch} className=\"search-icon\"/>\r\n                        </button>\r\n                    \r\n                </form>\r\n            </div>\r\n            \r\n            <h1>Bienvenue sur le Blog de Tom</h1>\r\n            <h3>Les Derniers Articles</h3>\r\n\r\n            <div className=\"main-wrapper\">\r\n                <div className=\"content-wrapper\">\r\n                {topArticles.length !== 0 &&\r\n                    <section>\r\n                        {topArticles.map((post,index) => {\r\n                            return(\r\n                                <Link to={`/post/${post.id}`} key={index}>\r\n                                    <PostOverview  post={post}/>\r\n                                </Link>\r\n                                \r\n                            )\r\n                        })}\r\n                    </section>}\r\n                </div>\r\n                <Aside/>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {};\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home);","export default __webpack_public_path__ + \"static/media/thomasAnderson.15344b2d.jpg\";","import { useEffect } from \"react\";\r\nimport fullScreenPage from \"../utilities/fullScreenPage\";\r\nimport picture from '../assets/images/thomasAnderson.jpg'\r\n\r\n// Page About\r\n//\r\n// Bio et Photo de l'auteur\r\nconst About = () => {\r\n    \r\n    useEffect(() => {\r\n        window.scrollTo(0,0);\r\n        fullScreenPage();\r\n    }, []);\r\n    \r\n    return(\r\n        <div className=\"page about\">\r\n            <div className=\"about-wrapper\">\r\n                <section className=\"description-wrapper\">\r\n                    <h2>Thomas Anderson</h2>\r\n                    <p>Velit dignissim sodales ut eu sem integer vitae justo eget. Sed arcu non odio euismod lacinia at quis. Erat velit scelerisque in dictum non consectetur a erat. Sed libero enim sed faucibus turpis. Ultrices in iaculis nunc sed augue lacus. Urna nunc id cursus metus aliquam eleifend mi in. Sed felis eget velit aliquet sagittis id consectetur purus. Urna nec tincidunt praesent semper feugiat. Adipiscing tristique risus nec feugiat in. Ornare aenean euismod elementum nisi quis eleifend. Nec nam aliquam sem et tortor consequat id porta nibh. Sem viverra aliquet eget sit amet tellus. Dui ut ornare lectus sit amet est.</p>\r\n                    <br/>\r\n                    <p>Velit dignissim sodales ut eu sem integer vitae justo eget. Sed arcu non odio euismod lacinia at quis. Erat velit scelerisque in dictum non consectetur a erat. Sed libero enim sed faucibus turpis. Ultrices in iaculis nunc sed augue lacus. Urna nunc id cursus metus aliquam eleifend mi in. Sed felis eget velit aliquet sagittis id consectetur purus. Urna nec tincidunt praesent semper feugiat. Adipiscing tristique risus nec feugiat in. Ornare aenean euismod elementum nisi quis eleifend. Nec nam aliquam sem et tortor consequat id porta nibh. Sem viverra aliquet eget sit amet tellus. Dui ut ornare lectus sit amet est.</p>\r\n                </section>\r\n                {/* <img src=\"images/thomasAnderson.jpg\" alt=\"Portrait de Tom Anderson\" /> */}\r\n                <img src={picture} alt=\"Portrait de Tom Anderson\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default About;","import { useEffect, useState } from \"react\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faUser, faTimes, faFeatherAlt} from '@fortawesome/free-solid-svg-icons';\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Aside from \"../components/Aside\";\r\n\r\nconst config = require('../config');\r\nconst axios = require(\"axios\");\r\n\r\n// Page Post Detail\r\n//\r\n// Article complet + section commentaires\r\n\r\nconst PostDetail = (props) => {\r\n\r\n    const [post, setPost] = useState(null);\r\n    const [comments, setComments] = useState([]);\r\n    const [newComment, setNewComment] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    // Formatte une date (string) au format local pour l'article\r\n    const dateManager = (dateString, withTime=false) => {\r\n        let date = new Date(dateString);\r\n        let result = 'le ' + date.toLocaleDateString();\r\n        return withTime ? result + ` à ${date.getHours()}h${date.getMinutes()}` : result ;\r\n    }\r\n\r\n    // Requête serveur de l'article + commentaires associés\r\n    useEffect(() => {\r\n        const postId = props.match.params.id;\r\n\r\n        axios.get(config.apiUrl + \"/post/\" + postId)\r\n        .then(response => {\r\n            setPost(response.data.post);\r\n            setComments(response.data.comments);\r\n        }).catch(err => {\r\n                if(err.response && err.response.status === 404){\r\n                    history.push('/')\r\n                } else {\r\n                    history.push('/noService')\r\n                }\r\n                \r\n            })\r\n    }, [props.match.params.id, history])\r\n\r\n    // Requête serveur d'ajout de commentaire\r\n    const onHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const data = {\r\n            userId: props.user.infos.id,\r\n            postId: props.match.params.id,\r\n            content: JSON.stringify(newComment)\r\n        }\r\n        axios.post(\r\n            config.apiUrl + '/newComment',\r\n            data,\r\n            {headers: {\"x-access-token\": props.user.infos.token}}\r\n        ).then(response => {\r\n            window.location.reload(false);\r\n        }).catch(err => {\r\n            history.push('/noService')\r\n        })\r\n    }\r\n\r\n    // Requête de suppression de l'article (admin)\r\n    const onHandleDeletePost = (e, postId) => {\r\n        e.preventDefault();\r\n\r\n        if(window.confirm(\"Voulez-vous vraiment supprimer cet article ?\")){\r\n            axios.delete(\r\n                config.apiUrl + '/deletePost/' + postId,\r\n                {headers: {\"x-access-token\": props.user.infos.token}}\r\n            ).then(response => {\r\n                history.push('/');\r\n            }).catch(err => {\r\n                history.push('/noService')\r\n            })\r\n        }\r\n    }\r\n\r\n    // Redirection vers la page d'édition de l'article (admin)\r\n    const onHandleEdit = (postId) => {\r\n        history.push('/editPost/' + postId);\r\n    }\r\n\r\n    // Requête de suppression de commentaire (admin ou auteur du commentaire) \r\n    const onHandleDeleteComment = (e,commentId) => {\r\n        e.preventDefault();\r\n\r\n        if(window.confirm(\"Voulez-vous vraiment supprimer ce message ?\")){\r\n            axios.delete(\r\n                config.apiUrl + '/deleteComment/' + commentId,\r\n                {headers: {\"x-access-token\": props.user.infos.token}}\r\n            ).then(response => {\r\n                window.location.reload(false);\r\n            }).catch(err => {\r\n                history.push('/noService')\r\n            })\r\n        }  \r\n    }\r\n\r\n    \r\n    return(\r\n        <div className=\"page post-detail\">\r\n\r\n            <div className=\"main-wrapper\">\r\n                <div className=\"content-wrapper\">\r\n                {post &&\r\n                <section className=\"post-wrapper\">\r\n                    <h1>{post.title}</h1>\r\n                    <p>{dateManager(post.creationTimestamp)}</p>\r\n                    <div className=\"post-content\">\r\n                        {JSON.parse(post.content).split(/\\n/).map((para,index) => {\r\n                            return para !== '' ?\r\n                                <p key={index}>{para}</p>:\r\n                                <br key={index}/>\r\n                            \r\n                        })}\r\n                    </div>\r\n                    \r\n                    {props.user.infos.role === \"admin\" &&\r\n                        <div className=\"admin-options\">\r\n                            <button className=\"admin-button edit-button\" onClick={e => {onHandleEdit(post.id)}}>\r\n                                <FontAwesomeIcon icon={faFeatherAlt} className=\"admin-icon\"/>\r\n                            </button>\r\n                            <button className=\"admin-button delete-button\" onClick={e => {onHandleDeletePost(e, post.id)}}>\r\n                                \r\n                                <FontAwesomeIcon icon={faTimes} className=\"admin-icon\"/>\r\n                            </button>\r\n                        </div>}\r\n                </section>}\r\n                <section className=\"comment-section\">\r\n                    <h2>Commentaires</h2>\r\n                    \r\n                    {comments.length !== 0 ? \r\n                    comments.map(comment => {\r\n                        \r\n                        return(\r\n                            <article key={comment.id} className=\"comment-wrapper\">\r\n                                <h3>{comment.firstName + \" \" + comment.lastName}</h3>\r\n                                {comment.userId === props.user.infos.id &&\r\n                                <FontAwesomeIcon icon={faUser} className=\"user-icon\"/>}\r\n                                <p>{dateManager(comment.creationTimestamp, true)}</p>\r\n                                \r\n                                <div className=\"comment-content\">\r\n                                    {JSON.parse(comment.content).split(/\\n/).map((para,index) => {\r\n                                        return para !== '' ?\r\n                                            <p key={index}>{para}</p>:\r\n                                            <br key={index}/>\r\n                                        \r\n                                    })}\r\n                                </div>\r\n                                {(comment.userId === props.user.infos.id || props.user.infos.role === \"admin\") &&\r\n                                <button className=\"delete-button user-button\" onClick={e => {onHandleDeleteComment(e, comment.id)}}>\r\n                                    <FontAwesomeIcon icon={faTimes} className=\"admin-icon\"/>\r\n                                </button>}\r\n                            </article>\r\n                        )\r\n                    }) :\r\n                    <article className=\"no-result-wrapper\">\r\n                        <p>Aucun commentaire, soyez le premier à commenter !</p>\r\n                    </article>}\r\n\r\n                    {props.user.isLogged ? \r\n                    <form className=\"add-comment-wrapper\" onSubmit={e => {onHandleSubmit(e)}}>\r\n                        <textarea \r\n                            placeholder = \"Ajoutez votre commentaire\"\r\n                            value = {newComment}\r\n                            onChange = {e => setNewComment(e.currentTarget.value)}\r\n                            required/>\r\n                        <input type=\"submit\" value=\"Poster Commentaire\" className=\"add-comment-btn\"/>\r\n                    </form> :\r\n                    <Link to='/login'>\r\n                        <button className=\"add-comment-btn\">Connectez vous pour pouvoir commenter</button>\r\n                    </Link>\r\n                    }\r\n                </section>\r\n                </div>\r\n                <Aside/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(PostDetail);","export const CONNECT_USER = \"CONNECT_USER\";\r\nexport const LOGOUT_USER = \"LOGOUT_USER\";","import { CONNECT_USER, LOGOUT_USER } from \"./action-types\";\r\n\r\nexport const connectUser = (user) => {\r\n    return function(dispatch){\r\n        dispatch({\r\n            type: CONNECT_USER,\r\n            payload: user\r\n        })\r\n    }\r\n    \r\n}\r\n\r\nexport const logoutUser = () => {\r\n    return function(dispatch){\r\n        dispatch({\r\n            type: LOGOUT_USER,\r\n            payload: null\r\n        })\r\n    }\r\n    \r\n}","import axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport config from \"../config\";\r\nimport {connect} from 'react-redux';\r\nimport {connectUser} from '../actions/user/userActions';\r\nimport * as validator from \"../utilities/validator\";\r\nimport fullScreenPage from \"../utilities/fullScreenPage\";\r\n\r\n// Page Login\r\n//\r\n// Formulaire de connexion\r\n\r\nconst Login = (props) => {\r\n    const[email, setEmail] = useState(\"\");\r\n    const[password, setPassword] = useState(\"\");\r\n    const[redirect, setRedirect] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    // Gestion des erreurs pour le formulaire grâce à validator.js(utilities)\r\n    const handleErrors = () => {\r\n        if(!validator.isValidEmail(email)){\r\n            setError({\r\n                source: \"email\",\r\n                message: \"Email invalide\"\r\n            });\r\n            return false;\r\n        }\r\n        if(!validator.isValidPassword(password)){\r\n            setError({\r\n                source: \"password\",\r\n                message: \"Mot de passe invalide : minimum une Majuscule, une minuscule, un chiffre et un caractère spécial (#?!@$ %^&*-). longueur comprise entre 8 et 50\"\r\n            });\r\n            return false;\r\n        }\r\n        setError(null);\r\n        return true;\r\n    }\r\n\r\n    // Envoi du formulaire + gestion des erreurs de connexion\r\n    const OnHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        if(!handleErrors()) return;\r\n\r\n        const data = {\r\n            email: email,\r\n            password: password\r\n        }\r\n        \r\n        axios.post(config.apiUrl + '/login', data)\r\n        .then(response => {\r\n            window.localStorage.setItem('TomBlog', response.data.token);\r\n            setRedirect(true);\r\n        }).catch(err => {\r\n            if(err.response && err.response.status === 401) {\r\n                setError({\r\n                    source: \"request\",\r\n                    message: \"Utilisateur/Mot de passe invalide\"\r\n                })\r\n            } else {\r\n                setError({\r\n                    source: \"request\",\r\n                    message: \"Un problème a eu lieu, Veuillez réessayer ultérieurement.\"\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    // Gestion de l'affichage des champs en fonction des Erreurs\r\n    useEffect(() => {\r\n        \r\n        fullScreenPage();\r\n        \r\n        if(props.user.isLogged) setRedirect(true);\r\n\r\n        const errorArea = document.querySelector(\".error-area\");\r\n        const fields = document.querySelectorAll(\".login-field\");\r\n        fields.forEach(field =>{\r\n            field.classList.remove('bad-input');\r\n        })\r\n        \r\n        if(error){\r\n            errorArea.classList.remove(\"invisible\");\r\n            if(error.source !== \"request\") {\r\n                const errorInput = document.querySelector(`#${error.source}`);\r\n                errorInput.classList.add(\"bad-input\");\r\n                errorInput.focus();\r\n            }\r\n            \r\n        } else {\r\n            errorArea.classList.add(\"invisible\");\r\n        }\r\n        \r\n    }, [error, props.user.isLogged])\r\n\r\n    return(\r\n        <div className=\"page login\">\r\n            {redirect && <Redirect to=\"/\"/>}\r\n\r\n            <h1>Se Connecter</h1>\r\n            <form className=\"connection-wrapper sign-in\" onSubmit={e => OnHandleSubmit(e)}>\r\n\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input \r\n                    className=\"login-field\"\r\n                    type=\"email\" \r\n                    name=\"email\" \r\n                    id=\"email\"\r\n                    placeholder=\"email@gmail.com\"\r\n                    value={email}\r\n                    onChange={e => setEmail(e.currentTarget.value)}\r\n                    required\r\n                />\r\n                <label htmlFor=\"password\">Mot de Passe</label>\r\n                <input \r\n                    className=\"login-field\"\r\n                    type=\"password\" \r\n                    name=\"password\" \r\n                    id=\"password\"\r\n                    placeholder=\"votre mot de passe\"\r\n                    value={password}\r\n                    onChange={e => setPassword(e.currentTarget.value)}\r\n                    required\r\n                />\r\n\r\n                <div className=\"error-area\">\r\n                    <p className=\"error-message\">{error && error.message}</p>\r\n                </div>\r\n\r\n                <input \r\n                    type=\"submit\" \r\n                    value=\"Se Connecter\"\r\n                    \r\n                />\r\n\r\n                <Link to=\"/register\">\r\n                    <button>S'Enregistrer</button>\r\n                </Link>\r\n                \r\n            </form>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    connectUser\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Login);","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport config from \"../config\";\r\nimport {connect} from 'react-redux';\r\nimport {connectUser} from '../actions/user/userActions';\r\nimport * as validator from \"../utilities/validator\";\r\nimport fullScreenPage from \"../utilities/fullScreenPage\";\r\n\r\n// Page Register\r\n//\r\n// Formulaire d'enregistrement utilisateur\r\n\r\nconst Register = (props) => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [firstName, setFirstName] = useState(\"\");\r\n    const [lastName, setLastName] = useState(\"\");\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    // Gestion des erreurs pour le formulaire grâce à validator.js(utilities)\r\n    const handleErrors = () => {\r\n        if(!validator.isValidEmail(email)){\r\n            setError({\r\n                source: \"email\",\r\n                message: \"Email invalide\"\r\n            });\r\n            return false;\r\n        }\r\n        if(!validator.isValidName(firstName)){\r\n            setError({\r\n                source: \"firstName\",\r\n                message: \"Le prénom n'accepte pas les chiffres ou caractères spéciaux. longueur comprise entre 2 et 20\"\r\n            });\r\n            return false;\r\n        }\r\n        if(!validator.isValidName(lastName)){\r\n            setError({\r\n                source: \"lastName\",\r\n                message: \"Le nom n'accepte pas les chiffres ou caractères spéciaux. longueur comprise entre 2 et 20\"\r\n            });\r\n            return false;\r\n        }\r\n        if(!validator.isValidPassword(password)){\r\n            setError({\r\n                source: \"password\",\r\n                message: \"Mot de passe invalide : minimum une Majuscule, une minuscule, un chiffre et un caractère spécial (#?!@$ %^&*-). longueur comprise entre 8 et 50\"\r\n            });\r\n            return false;\r\n        }\r\n        setError(null);\r\n        return true;\r\n    }\r\n\r\n    // Gestion de l'affichage des champs en fonction des Erreurs\r\n    useEffect(() => {\r\n\r\n        fullScreenPage();\r\n        \r\n        if(props.user.isLogged) setRedirect(true);\r\n\r\n        const errorArea = document.querySelector(\".error-area\");\r\n        const fields = document.querySelectorAll(\".register-field\");\r\n        fields.forEach(field =>{\r\n            field.classList.remove('bad-input');\r\n        })\r\n        \r\n        if(error){\r\n            errorArea.classList.remove(\"invisible\");\r\n            if(error.source !== \"request\") {\r\n                const errorInput = document.querySelector(`#${error.source}`);\r\n                errorInput.classList.add(\"bad-input\");\r\n                errorInput.focus();\r\n            }\r\n        } else {\r\n            errorArea.classList.add(\"invisible\");\r\n        }\r\n        \r\n    }, [error, props.user.isLogged])\r\n\r\n    // Envoi du formulaire + gestion des erreurs d'enregistrement\r\n    const onHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(!handleErrors()) return;\r\n\r\n        const data = {\r\n            email: email,\r\n            password: password,\r\n            firstName: firstName,\r\n            lastName: lastName\r\n        }\r\n\r\n        axios.post(config.apiUrl + '/register', data)\r\n        .then(response => {\r\n            setRedirect(true);\r\n\r\n        }).catch(err => {\r\n            if(err.response && err.response.status === 401) {\r\n                setError({\r\n                    source: \"request\",\r\n                    message: \"Email déjà utilisé\"\r\n                })\r\n            } else {\r\n                setError({\r\n                    source: \"request\",\r\n                    message: \"Un problème a eu lieu, Veuillez réessayer ultérieurement.\"\r\n                })\r\n            }\r\n        })\r\n    }\r\n    \r\n    return(\r\n        <div className=\"page register\">\r\n            {redirect && <Redirect to=\"/login\"/>}\r\n            \r\n            <h1>S'Enregister</h1>\r\n            <form className=\"connection-wrapper sign-up\" onSubmit={e => onHandleSubmit(e)}>\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input \r\n                    className=\"register-field\"\r\n                    type=\"text\" \r\n                    name=\"email\" \r\n                    id=\"email\"\r\n                    placeholder=\"email@gmail.com\"\r\n                    value={email}\r\n                    onChange={e => setEmail(e.currentTarget.value)}\r\n                    required\r\n                />\r\n\r\n                <label htmlFor=\"firstName\">Prénom</label>\r\n                <input \r\n                    className=\"register-field\"\r\n                    type=\"text\" \r\n                    name=\"firstName\" \r\n                    id=\"firstName\"\r\n                    placeholder=\"Jean\"\r\n                    value={firstName}\r\n                    onChange={e => setFirstName(e.currentTarget.value)}\r\n                    required\r\n                />\r\n\r\n                <label htmlFor=\"lastName\">Nom</label>\r\n                <input \r\n                    className=\"register-field\"\r\n                    type=\"text\" \r\n                    name=\"lastName\" \r\n                    id=\"lastName\"\r\n                    placeholder=\"Valjean\"\r\n                    value={lastName}\r\n                    onChange={e => setLastName(e.currentTarget.value)}\r\n                    required\r\n                />\r\n\r\n                <label htmlFor=\"password\">Mot de Passe</label>\r\n                <input\r\n                    className=\"register-field\"\r\n                    type=\"password\" \r\n                    name=\"password\" \r\n                    id=\"password\"\r\n                    placeholder=\"votre mot de passe\"\r\n                    value={password}\r\n                    onChange={e => setPassword(e.currentTarget.value)}\r\n                    required\r\n                />\r\n                \r\n                <div className=\"error-area\">\r\n                    <p className=\"error-message\">{error && error.message}</p>\r\n                </div>\r\n                <input \r\n                    type=\"submit\" \r\n                    value=\"S'Enregistrer\"\r\n                />\r\n\r\n                <Link to=\"/login\">\r\n                    <button>Se Connecter</button>\r\n                </Link>\r\n                \r\n            </form>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    connectUser\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Register);","import { useEffect} from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Redirect } from \"react-router\"\r\nimport { logoutUser } from \"../actions/user/userActions\"\r\n\r\n// Page Logout\r\n//\r\n// Déconnecte l'utilisateur et redirige vers la page \"Home\"\r\n\r\nconst Logout = (props) => {\r\n\r\n    // Suppression du token d'Authentification & Update le state user de Redux\r\n    useEffect(() => {\r\n        window.localStorage.removeItem(\"TomBlog\");\r\n        props.logoutUser();\r\n    }, [props])\r\n\r\n    return(\r\n        <div className=\"logout\">\r\n            {(!props.user.isLogged) && \r\n            <Redirect to=\"/\" />}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    logoutUser\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Logout);","import {useState, useEffect} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\nimport Aside from \"../components/Aside\";\r\nimport PostOverview from \"../components/PostOverview\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faSearch} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport fullScreenPage from \"../utilities/fullScreenPage\";\r\n\r\nconst config = require('../config');\r\nconst axios = require(\"axios\");\r\n\r\n// Page Search\r\n//\r\n// Recherche libre d'articles (match sur le titre de l'article)\r\n\r\nconst Search = (props) => {\r\n\r\n    const [resultArticles, setResultArticles] = useState([]);\r\n    const [searchInput, setSearchInput] = useState(\"\");\r\n    const [commitedSearch, setCommitedSearch] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    // Réceptionne une éventuelle query depuis la page \"Home\"\r\n    // & effectue la requête serveur\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        fullScreenPage();\r\n        \r\n        if(!props.location.state) return;\r\n\r\n        let existingQuery = \"query\" in props.location.state && props.location.state.query;\r\n        if(!existingQuery) return;\r\n        \r\n        setSearchInput(existingQuery);\r\n        setCommitedSearch(existingQuery);\r\n        \r\n        axios.get(config.apiUrl + \"/search?q=\" + existingQuery)\r\n        .then(response => {\r\n            setResultArticles(response.data.posts);\r\n        }).catch(err => {\r\n            history.push('/noService');\r\n        })\r\n    }, [props.location.state, history])\r\n\r\n    // Requête serveur d'une recherche utilisateur\r\n    const onHandleSearch = (e) => {\r\n        e.preventDefault();\r\n        setCommitedSearch(searchInput);\r\n\r\n        axios.get(config.apiUrl + '/search?q=' + searchInput)\r\n        .then(response => {\r\n            setResultArticles(response.data.posts);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"page search\">\r\n            <h1>Recherche</h1>\r\n            \r\n            <div className=\"search-bar-wrapper\">\r\n                <form className=\"search-bar\" onSubmit={(e) => {onHandleSearch(e)}}>\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder=\"Recherchez un article\"\r\n                        value={searchInput}\r\n                        onChange={e => {setSearchInput(e.currentTarget.value)}}\r\n                        required/>\r\n                        <button type=\"submit\">\r\n                            <FontAwesomeIcon icon={faSearch} className=\"search-icon\"/>\r\n                        </button>\r\n                    \r\n                </form>\r\n            </div>\r\n            \r\n            \r\n            <h3>Résultats pour : \"{commitedSearch}\"</h3>\r\n\r\n            <div className=\"main-wrapper\">\r\n                <div className=\"content-wrapper\">\r\n                    {resultArticles.length !== 0 ?\r\n                    <section>\r\n                        {resultArticles.map((post,index) => {\r\n                            return(\r\n                                <Link to={`/post/${post.id}`} key={index}>\r\n                                    <PostOverview  post={post}/>\r\n                                </Link>\r\n                                \r\n                            )\r\n                        })}\r\n\r\n                    </section> :\r\n                    <section className=\"no-result-wrapper\">\r\n                        <p>Pas de résultats ...</p>\r\n                    </section>}\r\n                </div>\r\n                <Aside/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (store) => {\r\n    return {}\r\n}\r\n\r\nconst mapDispatchToProps = {};\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Search);","import {useState, useEffect} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Aside from \"../components/Aside\";\r\nimport PostOverview from \"../components/PostOverview\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faSearch} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport fullScreenPage from \"../utilities/fullScreenPage\";\r\n\r\nconst config = require('../config');\r\nconst axios = require(\"axios\");\r\n\r\n// Page Archives\r\n//\r\n// Recherche d'articles par date (mois + année)\r\n\r\nconst Archives = (props) => {\r\n\r\n    const [resultArticles, setResultArticles] = useState([]);\r\n    const [month, setMonth] = useState(0);\r\n    const [year, setYear] = useState(2000);\r\n    const [maxYear, setMaxYear] = useState(0);\r\n    const history = useHistory();\r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        fullScreenPage();\r\n        // Récupération de la date du jour\r\n        let date = new Date();\r\n\r\n        setMonth(date.getMonth());\r\n        setYear(date.getFullYear());\r\n        setMaxYear(date.getFullYear());\r\n\r\n        // Requête serveur des article du mois\r\n        axios.get(config.apiUrl + '/monthly?date=' + date.getFullYear() + '-' + date.getMonth())\r\n        .then(response => {\r\n            setResultArticles(response.data.posts);\r\n        }).catch(err => {\r\n            if(err.response && err.response.status === 400) {\r\n                history.push(\"/home\");\r\n            } else {\r\n                history.push(\"/noService\");\r\n            }\r\n        });\r\n\r\n    }, [history])\r\n\r\n    // Requête serveur des article du mois choisi par l'utilisateur\r\n    const onHandleSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        axios.get(config.apiUrl + '/monthly?date=' + year + '-' + month)\r\n        .then(response => {\r\n            setResultArticles(response.data.posts);\r\n        }).catch(err => {\r\n            if(err.response && err.response.status === 400) {\r\n                history.push(\"/home\");\r\n            } else {\r\n                history.push(\"/noService\");\r\n            }\r\n        });\r\n    }\r\n\r\n    return(\r\n        <div className=\"page archives\">\r\n\r\n            <h1>Recherche par mois</h1>\r\n            <div className=\"date-bar-wrapper\">\r\n                <form className=\"date-bar\" onSubmit={(e) => {onHandleSubmit(e)}}>\r\n                        <select className=\"month-select\" \r\n                        value={month}\r\n                        onChange={e => setMonth(e.currentTarget.value)}>\r\n                            <option value=\"00\">Janvier</option>\r\n                            <option value=\"01\">Février</option>\r\n                            <option value=\"02\">Mars</option>\r\n                            <option value=\"03\">Avril</option>\r\n                            <option value=\"04\">Mai</option>\r\n                            <option value=\"05\">Juin</option>\r\n                            <option value=\"06\">Juillet</option>\r\n                            <option value=\"07\">Aout</option>\r\n                            <option value=\"08\">Septembre</option>\r\n                            <option value=\"09\">Octobre</option>\r\n                            <option value=\"10\">Novembre</option>\r\n                            <option value=\"11\">Décembre</option>\r\n                            \r\n                        </select>\r\n                        <input className=\"year-input\" \r\n                            type=\"number\" \r\n                            min=\"1999\" \r\n                            max={maxYear} \r\n                            step=\"1\" \r\n                            value={year} \r\n                            onChange={e => setYear(e.currentTarget.value)}\r\n                        />                        \r\n                        <button type=\"submit\">\r\n                            <FontAwesomeIcon icon={faSearch} className=\"search-icon\"/>\r\n                        </button>\r\n                    \r\n                </form>\r\n            </div>\r\n            \r\n            <h3>Résultats du mois</h3>\r\n            <div className=\"main-wrapper\">\r\n                <div className=\"content-wrapper\">\r\n                    {resultArticles.length !== 0 ?\r\n                    <section>\r\n                        {resultArticles.map((post,index) => {\r\n                            return(\r\n                                <Link to={`/post/${post.id}`} key={index}>\r\n                                    <PostOverview  post={post}/>\r\n                                </Link>\r\n                                \r\n                            )\r\n                        })}\r\n\r\n                    </section> :\r\n                    <section className=\"no-result-wrapper\">\r\n                        <p>Pas de résultats ...</p>\r\n                    </section>}\r\n                </div>\r\n                <Aside/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (store) => {\r\n    return {}\r\n}\r\n\r\nconst mapDispatchToProps = {};\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Archives);","import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, useHistory } from \"react-router\";\r\nimport config from \"../config\";\r\n\r\nconst NewPost = (props) => {\r\n    const [title, setTitle] = useState(\"\");\r\n    const [content, setContent] = useState(\"\");\r\n    const [redirect, setRedirect] = useState(false);\r\n    const history = useHistory();\r\n\r\n    const onHandleSubmit = e => {\r\n        e.preventDefault();\r\n        \r\n        let data = {\r\n            title: title,\r\n            content: JSON.stringify(content)\r\n        }\r\n        axios.post(config.apiUrl + '/newPost', data, {headers: {\"x-access-token\": props.user.infos.token}})\r\n        .then(response => {\r\n            setRedirect(true);\r\n        }).catch(err => {\r\n            history.push(\"/noService\")\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"page new-post\">\r\n            {redirect && \r\n            <Redirect to=\"/\"/>}\r\n\r\n            <h1>Nouvel Article</h1>\r\n            <form className=\"post-form\" onSubmit={e => onHandleSubmit(e)}>\r\n                <label htmlFor=\"title\">Titre</label>\r\n                <input \r\n                type=\"text\" \r\n                name=\"title\" \r\n                id=\"title\"\r\n                value={title}\r\n                onChange={e => setTitle(e.currentTarget.value)}\r\n                required\r\n                />\r\n\r\n                <label htmlFor=\"contenu\">Contenu de l'Article</label>\r\n                <textarea\r\n                name=\"content\" \r\n                id=\"content\"\r\n                value={content}\r\n                onChange={e => setContent(e.currentTarget.value)}\r\n                rows=\"30\"\r\n                required/>\r\n                \r\n                <input type=\"submit\" value=\"Poster l'article\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(NewPost);","import { useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../actions/user/userActions\";\r\n\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faFeatherAlt} from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\n// Composant Burger Menu\r\n//\r\n// Utilisé dans le Header\r\n//\r\n// Affiche au click le menu de navigation\r\n\r\nconst Burger = (props) => {\r\n    const [active, setActive] = useState(false);\r\n    const history = useHistory();\r\n    \r\n    // Ouverture/Fermeture du menu Burger\r\n    useEffect(()=> {\r\n        if(active){\r\n            let header = document.querySelector(\".header-wrapper\");\r\n            header.classList.add(\"no-scrolling\");\r\n            document.body.style.paddingTop = window.getComputedStyle(header).height;\r\n            \r\n            let clickCatcher = document.querySelector(\".burger-menu\");\r\n            clickCatcher.style.width = window.innerWidth +\"px\";\r\n            clickCatcher.style.height = (window.innerHeight + parseFloat(window.getComputedStyle(header).height))+\"px\";\r\n\r\n            let burgerButton = document.querySelector(\".burger-wrapper\");\r\n            \r\n            clickCatcher.style.right = \"-\" + window.getComputedStyle(burgerButton).marginRight;\r\n            \r\n\r\n            window.addEventListener(\"click\", e => onHandleClick(e))\r\n        \r\n            return () => {\r\n                window.removeEventListener(\"click\", e => onHandleClick(e))\r\n            };\r\n        }else {\r\n            document.querySelector(\".header-wrapper\").classList.remove(\"no-scrolling\");\r\n            document.body.style.paddingTop = 0;\r\n        }\r\n    }, [active])\r\n\r\n\r\n    // Gestion du click\r\n    const onHandleClick = e => {\r\n        e.stopPropagation();\r\n        if(!e.target.classList.contains(\"burger-wrapper\") && !e.target.classList.contains(\"burger-line\")){\r\n            setActive(false)\r\n        }\r\n    }\r\n\r\n    // Gestion du bouton de création d'un article (admin)\r\n    const onHandleNewArticle = () => {\r\n        history.push('/newPost');\r\n        setActive(false);\r\n    }\r\n\r\n    return(\r\n        <div className=\"burger-wrapper\" onClick={() => setActive(!active)}>\r\n            <hr className=\"burger-line\"/>\r\n            <hr className=\"burger-line\"/>\r\n            <hr className=\"burger-line\"/>\r\n            {active && \r\n\r\n            <div className=\"burger-menu\" >\r\n                <nav onClick={e => e.stopPropagation()}>\r\n                    {props.user.isLogged &&\r\n                    <h2>{props.user.infos.firstName + \" \" + props.user.infos.lastName}</h2>\r\n                    }\r\n                    {props.user.isLogged && props.user.infos.role === \"admin\" &&\r\n                    <div className=\"new-article-btn-wrapper\">\r\n                        <button className=\"new-article-btn\" onClick={onHandleNewArticle}>\r\n                            <p>Créer un nouvel Article</p>\r\n                            <FontAwesomeIcon icon={faFeatherAlt} className=\"btn-feather-logo\"/>\r\n                        </button>\r\n                    </div>}\r\n                    <ul>\r\n                        <li><Link to=\"/\" onClick={()=>setActive(false)}>Accueil</Link></li>\r\n                        <li><Link to=\"/about\" onClick={()=>setActive(false)}>L'auteur</Link></li>\r\n                        <li><Link to=\"/archives\" onClick={()=>setActive(false)}>Archives</Link></li>\r\n                    </ul>\r\n\r\n                    {props.user.isLogged ?\r\n                    <Link to=\"/logout\" onClick={()=>setActive(false)}>Déconnexion</Link> :\r\n                    <Link to=\"/login\" onClick={()=>setActive(false)}>Connexion</Link>\r\n                    }\r\n                </nav>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    logoutUser\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Burger);","import {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faFeatherAlt} from '@fortawesome/free-solid-svg-icons';\r\nimport Burger from \"./Burger\"\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Composant Header\r\n//\r\n// Utilisé dans App (tous les pages)\r\n//\r\n// Affiche le header du site\r\nconst Header = () => {\r\n    \r\n    return(\r\n        <header className=\"header-wrapper\">\r\n            <Link to=\"/\">\r\n                <div className=\"title-wrapper\">\r\n                    <FontAwesomeIcon icon={faFeatherAlt} className=\"feather-logo\"/>\r\n                    <h1>Tom's Blog</h1>\r\n                </div>\r\n            </Link>\r\n            \r\n            <Burger/>\r\n            \r\n            \r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faChevronUp} from '@fortawesome/free-solid-svg-icons';\r\nimport { useState, useEffect } from 'react';\r\n\r\n\r\n// Composant Scroll Up\r\n//\r\n// Utilisé dans App (toutes les pages)\r\n//\r\n// Affiche une flèche permettant de remonter en haut de page au clic\r\n// (S'affiche seulement à partir d'une certaine hauteur)\r\n\r\nconst ScrollUp = () => {\r\n    const [scroll, setScroll] = useState(0);\r\n\r\n    // Affichage de la flèche en fonction de la hauteur sur la page\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', handleScroll)\r\n        \r\n        if(scroll < 200){\r\n            document.querySelector(\".scroll-up-wrapper\").style.display = 'none';\r\n        }else {\r\n            document.querySelector(\".scroll-up-wrapper\").style.display = 'flex';\r\n        }\r\n\r\n        return () => {window.removeEventListener('scroll', handleScroll)}\r\n    }, [scroll])\r\n\r\n    // Callback de l'événement \"scroll\"\r\n    const handleScroll = () => {\r\n        setScroll(window.scrollY);\r\n    }\r\n\r\n    // Scroll en haut de page au clic\r\n    const handleClick = () => {\r\n        window.scrollTo({top: 0, behavior: \"smooth\"});\r\n    }\r\n\r\n    return(\r\n        <div className=\"scroll-up-wrapper\" onClick={handleClick}>\r\n            <FontAwesomeIcon icon={faChevronUp} className=\"arrow-up\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScrollUp;","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport {connect} from 'react-redux';\r\nimport {connectUser} from '../actions/user/userActions';\r\nimport {Redirect} from 'react-router-dom';\r\nimport config from \"../config\";\r\n\r\n\r\n// HOC d'Authentification\r\n//\r\n// Présent sur toutes les pages à l'exception de \"No Service\"\r\n//\r\n// Vérifie le statut de l'utilisateur ou son token d'Authentification\r\n// Redirige l'utilisateur si la page est protégée (isAdmin = true)\r\n\r\nexport default function foo(ChildComponent, isAdmin = false) {\r\n    class hocAuth extends React.Component {\r\n        constructor(props){\r\n            super(props);\r\n            this.state = {\r\n                redirect : false\r\n            }\r\n        }\r\n\r\n        componentDidMount() {\r\n            \r\n            // Cas Utilisateur déjà connecté\r\n            if(this.props.user.isLogged){\r\n                \r\n                const role = this.props.user.infos.role;\r\n\r\n                if(role === \"admin\") return;\r\n                if(isAdmin) return this.setState({redirect: true});\r\n                return;\r\n            }\r\n            \r\n            const existingToken = window.localStorage.getItem('TomBlog');\r\n\r\n            // Cas Utilisateur non connecté & sans token\r\n            if(!existingToken){\r\n                if(isAdmin){\r\n                    return this.setState({redirect: true});\r\n                }else{\r\n                    return;\r\n                }\r\n                \r\n            }\r\n            // Cas Utilisateur non connecté & avec token\r\n            axios.get(config.apiUrl + '/checkToken', {headers: {'x-access-token': existingToken}})\r\n            .then(response => {\r\n                if(response.status !== 200) return this.setState({redirect: true});\r\n                if(isAdmin && response.data.user.role !== \"admin\") return this.setState({redirect: true});\r\n                let user = response.data.user;\r\n                user.token = existingToken;\r\n\r\n                this.props.connectUser(response.data.user);\r\n            }).catch(err => {\r\n                this.setState({redirect: true});\r\n            })\r\n\r\n        }\r\n\r\n\r\n        render() {\r\n            if(this.state.redirect){\r\n                return(\r\n                    <Redirect to=\"/login\"/>\r\n                )\r\n            }\r\n            return(\r\n                <ChildComponent {...this.props}/>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    const mapStateToProps = (store) => {\r\n        return {\r\n            user: store.user\r\n        }\r\n    }\r\n\r\n    const mapDispatchToProps = {\r\n        connectUser\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(hocAuth) ;\r\n}","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, useHistory } from \"react-router\";\r\nimport config from \"../config\";\r\n\r\nconst EditPost = (props) => {\r\n    const [title, setTitle] = useState(\"\");\r\n    const [content, setContent] = useState(\"\");\r\n    const [redirect, setRedirect] = useState(false);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const postId = props.match.params.id;\r\n        axios.get(config.apiUrl + \"/post/\" + postId)\r\n        .then(response => {\r\n            setTitle(response.data.post.title);\r\n            setContent(JSON.parse(response.data.post.content));\r\n        }).catch(err => {\r\n            if(err.response && err.response.status === 404){\r\n                history.push(\"/\")\r\n            } else {\r\n                history.push(\"/noService\")\r\n            }\r\n        })\r\n    }, [props.match.params.id, history])\r\n\r\n    const onHandleSubmit = e => {\r\n        e.preventDefault();\r\n        \r\n        let data = {\r\n            title: title,\r\n            content: JSON.stringify(content)\r\n        }\r\n        axios.put(config.apiUrl + '/editPost/' + props.match.params.id, data, {headers: {\"x-access-token\": props.user.infos.token}})\r\n        .then(response => {\r\n            setRedirect(true);\r\n        }).catch(err => {\r\n            history.push(\"/noService\")\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"page new-post\">\r\n            {redirect && \r\n            <Redirect to=\"/\"/>}\r\n\r\n            <h1>Editer cet Article</h1>\r\n            <form className=\"post-form\" onSubmit={e => onHandleSubmit(e)}>\r\n                <label htmlFor=\"title\">Titre</label>\r\n                <input \r\n                type=\"text\" \r\n                name=\"title\" \r\n                id=\"title\"\r\n                value={title}\r\n                onChange={e => setTitle(e.currentTarget.value)}\r\n                required\r\n                />\r\n\r\n                <label htmlFor=\"contenu\">Contenu de l'Article</label>\r\n                <textarea\r\n                name=\"content\" \r\n                id=\"content\"\r\n                value={content}\r\n                onChange={e => setContent(e.currentTarget.value)}\r\n                rows=\"30\"\r\n                required/>\r\n                \r\n                <input type=\"submit\" value=\"Editer l'article\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(EditPost);","import fullScreenPage from \"../utilities/fullScreenPage\";\r\nimport {useEffect} from 'react';\r\n\r\n// Page No Service\r\n//\r\n// Message d'indisponibilité du service (server down)\r\n\r\nconst NoService = () => {\r\n    \r\n    useEffect(()=> {\r\n        fullScreenPage();\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"page no-service\">\r\n            <h1>Connexion perdue</h1>\r\n            <p>Le blog est temporairement inaccessible, veuillez réessayer ultérieurement.</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoService;","\r\n// Composant Footer\r\n//\r\n// Utilisé dans App (tous les pages)\r\n//\r\n// Affiche le footer du site\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer>\r\n            <div className=\"footer-wrapper\">\r\n                <p>Site réalisé par Thomas Tenot</p>\r\n                <figure>\r\n                    <a href=\"https://3wa.fr/\">\r\n                        <img src={process.env.PUBLIC_URL + \"/images/3WA-logo.gif\"} alt=\"logo de la 3WA\" />\r\n                    </a>\r\n                    <figcaption>Projet de fin de formation<br/>3WA</figcaption>\r\n                </figure>\r\n            </div>\r\n            \r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import './App.css';\nimport {Switch, Route} from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport PostDetail from './pages/PostDetail';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Logout from './pages/Logout';\nimport Search from './pages/Search';\nimport Archives from './pages/Archives';\nimport NewPost from './pages/NewPost';\n\nimport Header from './components/Header';\nimport ScrollUp from './components/ScrollUp';\n\nimport hocAuth from './utilities/hocAuth';\nimport EditPost from './pages/EditPost';\n\nimport NoService from './pages/NoService';\n\nimport Footer from './components/Footer';\n\n\n// APP\n// Contient les différentes Routes d'accès aux pages\n// Sécurisé par un HOC d'Authentification (hocAuth)\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <Header/>\n      <main>\n        <Switch>\n          <Route exact path=\"/\"  component={hocAuth(Home)}/>\n          <Route exact path=\"/about\" component={hocAuth(About)}/>\n          <Route exact path=\"/post/:id\" component={hocAuth(PostDetail)}/>\n          <Route exact path=\"/search\" component={hocAuth(Search)}/>\n          <Route exact path=\"/archives\" component={hocAuth(Archives)}/>\n          <Route exact path=\"/login\" component={hocAuth(Login)}/>\n          <Route exact path=\"/logout\" component={hocAuth(Logout)}/>\n          <Route exact path=\"/register\" component={hocAuth(Register)}/>\n          <Route exact path=\"/newPost\" component={hocAuth(NewPost, true)}/>\n          <Route exact path=\"/editPost/:id\" component={hocAuth(EditPost, true)}/>\n          <Route exact path=\"/noService\" component={NoService}/>\n          <Redirect to=\"/\"/>\n        </Switch>\n        <ScrollUp/>\n      </main>\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {CONNECT_USER, LOGOUT_USER} from '../actions/user/action-types';\r\n\r\nconst initialState = {\r\n    infos: {},\r\n    isLogged: false\r\n}\r\n\r\n\r\n//fonction UserReducer qui va mettre à jour notre store \r\nexport default function UserReducer(state = initialState, action) {\r\n    switch(action.type) {\r\n        case CONNECT_USER:\r\n            return {infos: action.payload, isLogged: true};\r\n\r\n        case LOGOUT_USER: \r\n            return initialState;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from \"redux\";\r\nimport UserReducer from './userReducer';\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    user: UserReducer\r\n});\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware } from 'redux';\r\nimport {composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport reducers from \"./reducers\";\r\nconst composedEnhancer = composeWithDevTools(applyMiddleware(thunk));\r\nconst store = createStore(reducers, {}, composedEnhancer);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {BrowserRouter} from \"react-router-dom\";\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport store from './store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}